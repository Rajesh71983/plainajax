<!DOCTYPE html>
<html>
<head>
	<title>Ajax 1</title>
</head>
<body>
	<input type="button" name="ajax" id="ajax" value="Ajax Request">
	<div id="ajaxres"></div>
</body>
<script type="text/javascript">
	document.getElementById('ajax').addEventListener('click',loadajax);

	function loadajax() {
		// body...
			//console.log('here');
		//create xhr object
		var xhr = new XMLHttpRequest();
			//console.log(xhr)
		//open type,url,asnyc

		xhr.open('GET','test.txt',true);

		xhr.onprogress = function(){
			console.log(xhr.readyState)
		}

		/*
		this is the new way of sending requests*/
		xhr.onload = function(){
			if(this.status == 200){
				//console.log(this.responseText) // this or xhr will work here
				document.getElementById('ajaxres').innerHTML = this.responseText;
			}else if(this.status == 404){
				//console.log(this.responseText)
				document.getElementById('ajaxres').innerHTML = this.responseText;
			}

		}

		xhr.onerror = function(){
			console.log('Error Msg')
		}

		
		/* old way of sending request
		xhr.onreadystatechange = function(){
			if(this.readyState == 4){
				console.log(this.responseText) // this or xhr will work here
			}

		}*/
		
		//send request
			xhr.send();
	}
</script>
</html>